String.prototype.trim=function(){var e=this;var f=0;var a=e.length;var d="";for(var b=0;b<e.length;b++){d+=e.charCodeAt(b)+" "}for(var b=0;b<e.length;b++){var c=e.charCodeAt(b);if(c>=33){f=b;break}else{f++}}for(var b=e.length;b>f;b--){var c=e.charCodeAt(b-1);if(c>=33){a=b;break}}return e.substring(f,a)};var clicked=false;function allowClick(){if(!clicked){clicked=true;return true}return false}var windowNameSeq=0;var windows=new Array();function windowExists(a){for(var c=0;c<windows.length;c++){try{if(windows[c].name==a){return true}}catch(b){}}return false}function getWindow(a){for(var c=0;c<windows.length;c++){try{if(windows[c].name==a){return windows[c]}}catch(b){}}}function removeWindow(a){for(var c=0;c<windows.length;c++){try{if(windows[c].name==a){windows.splice(c,1);return}}catch(b){}}}function pushWin(d,c,e,a){var b="location=yes,status=yes,toolbar=no,personalbar=no,menubar=no,directories=no,";b+="scrollbars=yes,resizable=yes,";b+="width="+e+",height="+a;launchWinWithOptions(d,c,b)}function launchWin(d,c,f,a){var b="location=no,status=no,toolbar=no,personalbar=no,menubar=no,directories=no,";var g=(screen.width-f)/2;var e=(screen.height-a)/2;b+="scrollbars=no,resizable=yes,top="+e+",left="+g+",";b+="width="+f+",height="+a;launchWinWithOptions(d,c,b)}function launchWinWithOptions(d,c,b){if(!windowExists(d)){var e=window.open(c,d,b);windows[windows.length]=e;return e}else{var a=getWindow(d);a.focus()}}function getTopLevelWindow(){var a=window;if(a.parent==a){return a}while(a.parent!=a){a=window.parent.window}return a}function closeWin(a){a.close()}function handleClose(a){if(confirm(a)){removeWindow(getTopLevelWindow().name);closeWin(getTopLevelWindow());return true}else{return false}}function confirmCancel(a){if(confirm(a)){getTopLevelWindow().location.href="userinfo.jsp";return true}else{return false}}function cancelQueue(b,a){getTopLevelWindow().location.href="userinfo.jsp?workgroup="+b+"&chatID="+a;return true}function confirmCancelAndClose(a){if(confirm(a)){getTopLevelWindow().location.href="userinfo.jsp";getTopLevelWindow().close();return true}else{return false}}function confirmCancel(c,b,a){if(confirm(c)){getTopLevelWindow().location.href="userinfo.jsp?workgroup="+b+"&chatID="+a;return true}else{return false}}function closeAll(){removeWindow(getTopLevelWindow().name);closeWin(getTopLevelWindow())}function launchHelpWin(){var a=launchWin("helpwin","helpwin.jsp",550,350)}function hide(a){if(document.layers){document.layers[a].visibility="hide"}else{if(document.all){document.all[a].style.visibility="hidden"}else{if(document.getElementById){document.getElementById(a).style.visibility="hidden"}}}}function show(a){if(document.layers){document.layers[a].visibility="show"}else{if(document.all){document.all[a].style.visibility="visible"}else{if(document.getElementById){document.getElementById(a).style.visibility="visible"}}}}function getDiv(a){if(document.layers){return document.layers[a]}else{if(document.all){return document.all[a]}else{if(document.getElementById){return document.getElementById(a)}}}}function getDivByDoc(a,b){if(b.layers){return b.layers[a]}else{if(b.all){return b.all[a]}else{if(b.getElementById){return b.getElementById(a)}}}}function showTypingIndicator(a){if(a){}else{}}function informConnectionClosed(){alert("Your support session has ended, you will be redirected to the transcript page.");parent.location.href="transcriptmain.jsp"}function addChatText(c,i,l){var k=c.document.getElementById("ytext");var m=(i=="");var e=k.childNodes.length;var f=document.createElement("span");var j=document.createElement("span");if(m){f.setAttribute("class","chat-announcement");j.setAttribute("class","chat-announcement")}else{j.setAttribute("class","text")}var a=false;if(!m){a=(nickname==i);if(a){f.setAttribute("class","client-name")}else{f.setAttribute("class","operator-name")}}var g=document.createElement("div");g.setAttribute("class","chat-line");var d=false;try{if(!m){f.innerHTML=i+": ";g.appendChild(f)}j.innerHTML=l;g.appendChild(j);k.appendChild(g)}catch(b){d=true}if(!d){d=(e==k.childNodes.length)}if(d){var h=k.innerHTML;h+='<div class="chat-line">';if(!m){h+='<span class="';if(m){h+="chat-announcement"}else{if(a){h+="client-name"}else{h+="operator-name"}}h+='">'+i+": </span>"}h+='<span class="';h+=(m?'chat-announcement">':'chat_text">');h+=l+"</span></div>";k.innerHTML=h}else{}}function scrollYakToEnd(b){var a=b.document.getElementById("enddiv");b.scrollTo(0,a.offsetTop)}function showChatButton(b){var e=new Date();var f=e.getSeconds()+""+e.getDay();var a="http://mini.nic.ir:8080/webchat/live?action=isAvailable&workgroup="+b;var c="http://mini.nic.ir:8080/webchat/start.jsp?workgroup="+b+"&location="+window.location.href;document.write("<a href=\"#\" onclick=\"launchWin('framemain','"+c+'\',500, 400);return false;"><img border="0" src="'+a+'"></a>')}function displayWorkgroup(e,c,b){var g=new Date();var h=g.getSeconds()+""+g.getDay();var a="http://mini.nic.ir:8080/webchat/live?action=isAvailable&workgroup="+e+"&online="+c+"&offline="+b;var f="http://mini.nic.ir:8080/webchat/start.jsp?workgroup="+e+"&location="+window.location.href;document.write("<a href=\"#\" onclick=\"launchWin('framemain','"+f+'\',500, 400);return false;"><img border="0" src="'+a+'"></a>')}function showChatButtonWithAgent(b,c){var f=new Date();var g=f.getSeconds()+""+f.getDay();var a="http://mini.nic.ir:8080/webchat/live?action=isAvailable&workgroup="+b;var e="http://mini.nic.ir:8080/webchat/start.jsp?workgroup="+b+"&agent="+c+"&location="+window.location.href;document.write("<a href=\"#\" onclick=\"launchWin('framemain','"+e+'\',500, 400);return false;"><img border="0" src="'+a+'"></a>')}function showButtonWithoutUI(b,f){var e=new Date();var g=e.getSeconds()+""+e.getDay();var a="http://mini.nic.ir:8080/webchat/live?action=isAvailable&workgroup="+b;var c="http://mini.nic.ir:8080/webchat/start.jsp?workgroup="+b+"&location="+window.location.href+"&noUI=true&"+f;document.write("<a href=\"#\" onclick=\"launchWin('framemain','"+c+'\',500, 400);return false;"><img border="0" src="'+a+'"></a>')};