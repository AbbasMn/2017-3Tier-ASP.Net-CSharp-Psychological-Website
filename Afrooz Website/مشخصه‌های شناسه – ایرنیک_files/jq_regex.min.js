(function(b){b.fn.validate=function(j){var d={errFieldClass:"has_error",pattAttr:"patt",reqAttr:"required",errorDom:"div",errorDomClass:"error_msg",submitDisabledClass:"submitDisable"};var i=b.extend(d,j);var f={Error:{FA:"این مقدار اشتباه است.",EN:"This field is not valid."}};var c=(b("body").css("direction")=="ltr")?"EN":"FA";var k=b("<"+i.errorDom+"/>",{"class":i.errorDomClass,text:f.Error[c]});var h=function(l){l.parent().find(i.errorDom+"[class='"+i.errorDomClass+"']").remove();l.removeClass(i.errFieldClass);if(!e(l)&&l.val()==""){return true}if(!a.isValid(l.attr(i.pattAttr),l.val())){l.addClass(i.errFieldClass);l.parent().prepend(k)}};var e=function(l){if(l.attr(i.reqAttr)){return true}else{return false}};var g=function(l){if(l.find(i.errorDom+"[class='"+i.errorDomClass+"']").get(0)){l.find("button[type='submit']").attr("disabled","disabled").addClass(i.submitDisabledClass);return false}else{l.find("button[type='submit']").removeAttr("disabled").removeClass(i.submitDisabledClass);return true}};return this.each(function(){var l=b(this);l.submit(function(m){l.find("input, textarea").each(function(){if(b(this).attr(i.pattAttr)){h(b(this))}});if(!g(l)){m.preventDefault();return false}});l.find("input, textarea").each(function(){if(b(this).attr(i.pattAttr)){b(this).change(function(){h(b(this));g(l)})}})})};var a={init:function(){var c=Object();c.bit="^[0-9]{1}$";c.i_handle_letters_digits="[a-zA-Z]{2}[0-9]{2,4}";c.i_handle=c.i_handle_letters_digits+"-irnic";c.handle="^"+c.i_handle+"$";c.i_ascii_cctld="[a-zA-Z]{2}";c.i_ascii_gtld="[a-zA-Z]{3,6}";c.i_ascii_tld="("+c.i_ascii_gtld+"|"+c.i_ascii_cctld+")";c.i_ascii_domtokken="[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?";c.i_ascii_domaddr="("+c.i_ascii_domtokken+"\\.){1,}"+c.i_ascii_tld;c.i_mailuser="[a-zA-Z0-9]([a-zA-Z0-9_.\\-]*[a-zA-Z0-9])?";c.email="^"+c.i_mailuser+"@"+c.i_ascii_domaddr+"$";c.handlemail="("+c.handle+"|"+c.email+")";c.i_unicode_domaddr=c.i_ascii_domaddr;c.i_domain=c.i_unicode_domaddr;c.domain_comma="^"+c.i_domain+"([,\\r\\n\\s]+"+c.i_domain+")*$";return c},isValid:function(f,e){var c=this.init();var d=new RegExp(c[f]);return d.test(e)}}})(jQuery);